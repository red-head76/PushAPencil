<html>
<body>
<canvas id="c" height=2 width=2></canvas>
<img id="test" height=500 width=500></img>

<script>
var ctx = c.getContext('2d');
ctx.strokeStyle="red";

function setPixelated(ctx){
    ctx['imageSmoothingEnabled'] = false;       /* standard */
    ctx['mozImageSmoothingEnabled'] = false;    /* Firefox */
    ctx['oImageSmoothingEnabled'] = false;      /* Opera */
    ctx['webkitImageSmoothingEnabled'] = false; /* Safari */
    ctx['msImageSmoothingEnabled'] = false;     /* IE */
}

// setPixelated(ctx);

// draw big
// ctx.scale(30, 30);
ctx.beginPath();
ctx.moveTo(0, 0);
ctx.lineTo(2, 2);
ctx.stroke();

const img = c.toDataURL();
console.log(ctx.getImageData(0, 0, c.width, c.height).data);
const img_tag = document.getElementById("test");
img_tag.src = img;

document.write('<img src="'+img+'"/>');

</script>
</body>
</html>
